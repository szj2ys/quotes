(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2527:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(1490),o=n(3834);let a={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},i={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},s="mousemove",c="mouseup";function l(e,t){if(0===t)return e;let n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}var u=n(94);let p=e=>{let{children:t,className:n=""}=e;return(0,r.jsxs)("div",{className:"\n      relative \n      backdrop-blur-sm \n      bg-black/5 \n      border \n      border-white/10 \n      rounded-3xl \n      shadow-lg\n      shadow-black/10\n      p-8 \n      md:p-12 \n      lg:p-16\n      overflow-hidden\n      before:absolute \n      before:inset-0 \n      before:bg-gradient-to-br \n      before:from-white/10 \n      before:via-transparent \n      before:to-transparent \n      before:rounded-3xl\n      before:pointer-events-none\n      ".concat(n,"\n    "),children:[(0,r.jsx)("div",{className:"absolute inset-[1px] rounded-3xl bg-gradient-to-br from-white/2 to-transparent pointer-events-none"}),(0,r.jsx)("div",{className:"relative z-10 overflow-hidden",children:t})]})};function d(){let[e,t]=(0,o.useState)([]),[n,d]=(0,o.useState)({}),[h,f]=(0,o.useState)([]),[b,g]=(0,o.useState)([]),[v,m]=(0,o.useState)(!1),w=(0,o.useRef)(null);(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/quotes.json"),n=await e.json();t(n),f([...n])}catch(e){console.error("Failed to load quotes:",e)}})()},[]);let O=(0,o.useMemo)(()=>/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),[]),x=(0,o.useCallback)(async e=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),t.remove()}m(!0),setTimeout(()=>m(!1),2e3)}catch(e){console.error("Failed to copy text: ",e)}},[]),j=(0,o.useCallback)(()=>{x("".concat(n.quote).concat(n.author?" ~".concat(n.author):""))},[n,x]),y=(0,o.useCallback)(()=>{if(0===e.length)return;let t=[...e],n=Math.floor(Math.random()*t.length),r=t[n];d(r),g(e=>[...e,r]),t.splice(n,1),f(t)},[e]);(0,o.useEffect)(()=>{e.length>0&&y()},[e,y]);let S=(0,o.useCallback)((e,t)=>{let n=window.innerWidth,r=Math.floor(Math.floor(n/(n/26))/t-e);return" ".repeat(Math.max(0,r))},[]),E=(0,o.useCallback)(e=>0===Object.keys(e).length,[]),k=(0,o.useCallback)(()=>{if(0===h.length)return void y();let e=Math.floor(Math.random()*h.length),t=h[e];d(t),g(e=>[...e,t]);let n=[...h];n.splice(e,1),f(n),0===n.length&&y()},[h,y]),M=(0,o.useCallback)(()=>{let e=[...b];e.length>0&&(d(b[b.length-1]),e.splice(b.length-1,1),g(e))},[b]),N=(0,o.useCallback)(()=>{var e;if(!w.current)return;let t=w.current,n=(null==(e=t.parentElement)?void 0:e.clientWidth)||0,r=t.clientWidth,o=O?4:8;t.style.marginLeft="".concat(Math.max(0,(n-r)/o/n*100),"%")},[O]),T=(0,o.useCallback)(e=>{k()},[k]),C=(0,o.useCallback)(e=>{var t;if(null==(t=e.target)?void 0:t.closest(".copy-button"))return;let n={ArrowUp:M,ArrowLeft:M,Space:k,ArrowDown:k,ArrowRight:k}[e.code];n&&n()},[k,M]);(0,o.useEffect)(()=>(w.current&&w.current.scrollIntoView({behavior:"instant"}),N(),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}),[n,N]),(0,o.useEffect)(()=>{E(n)&&h.length>0&&k()},[n,h,k,E]),(0,o.useEffect)(()=>{b.length>0&&d(b[b.length-1])},[b]);let P=function(e){var t,n,r;let u,{trackMouse:p}=e,d=o.useRef(Object.assign({},i)),h=o.useRef(Object.assign({},a)),f=o.useRef(Object.assign({},h.current));for(u in f.current=Object.assign({},h.current),h.current=Object.assign(Object.assign({},a),e),a)void 0===h.current[u]&&(h.current[u]=a[u]);let[b,g]=o.useMemo(()=>(function(e,t){let n=t=>{let n="touches"in t;n&&t.touches.length>1||e((e,o)=>{o.trackMouse&&!n&&(document.addEventListener(s,r),document.addEventListener(c,p));let{clientX:a,clientY:u}=n?t.touches[0]:t,d=l([a,u],o.rotationAngle);return o.onTouchStartOrOnMouseDown&&o.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),i),{initial:d.slice(),xy:d,start:t.timeStamp||0})})},r=t=>{e((e,n)=>{var r,o,i,s;let c="touches"in t;if(c&&t.touches.length>1)return e;if(t.timeStamp-e.start>n.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;let{clientX:u,clientY:p}=c?t.touches[0]:t,[d,h]=l([u,p],n.rotationAngle),f=d-e.xy[0],b=h-e.xy[1],g=Math.abs(f),v=Math.abs(b),m=(t.timeStamp||0)-e.start,w=Math.sqrt(g*g+v*v)/(m||1),O=[f/(m||1),b/(m||1)],x=(r=g,o=v,i=f,s=b,r>o?i>0?"Right":"Left":s>0?"Down":"Up"),j="number"==typeof n.delta?n.delta:n.delta[x.toLowerCase()]||a.delta;if(g<j&&v<j&&!e.swiping)return e;let y={absX:g,absY:v,deltaX:f,deltaY:b,dir:x,event:t,first:e.first,initial:e.initial,velocity:w,vxvy:O};y.first&&n.onSwipeStart&&n.onSwipeStart(y),n.onSwiping&&n.onSwiping(y);let S=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${x}`])&&(S=!0),S&&n.preventScrollOnSwipe&&n.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:y,swiping:!0})})},o=t=>{e((e,n)=>{let r;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<n.swipeDuration){r=Object.assign(Object.assign({},e.eventData),{event:t}),n.onSwiped&&n.onSwiped(r);let o=n[`onSwiped${r.dir}`];o&&o(r)}}else n.onTap&&n.onTap({event:t});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),i),{eventData:r})})},u=()=>{document.removeEventListener(s,r),document.removeEventListener(c,p)},p=e=>{u(),o(e)},d=(e,t)=>{let i=()=>{};if(e&&e.addEventListener){let s=Object.assign(Object.assign({},a.touchEventOptions),t.touchEventOptions),c=[["touchstart",n,s],["touchmove",r,Object.assign(Object.assign({},s),t.preventScrollOnSwipe?{passive:!1}:{})],["touchend",o,s]];c.forEach(([t,n,r])=>e.addEventListener(t,n,r)),i=()=>c.forEach(([t,n])=>e.removeEventListener(t,n))}return i},h={ref:t=>{null!==t&&e((e,n)=>{if(e.el===t)return e;let r={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),r.cleanUpTouch=void 0),n.trackTouch&&t&&(r.cleanUpTouch=d(t,n)),Object.assign(Object.assign(Object.assign({},e),{el:t}),r)})}};return t.trackMouse&&(h.onMouseDown=n),[h,d]})(e=>d.current=e(d.current,h.current),{trackMouse:p}),[p]);return t=d.current,n=h.current,r=f.current,d.current=n.trackTouch&&t.el?t.cleanUpTouch?n.preventScrollOnSwipe!==r.preventScrollOnSwipe||n.touchEventOptions.passive!==r.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:g(t.el,n)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:g(t.el,n)}):(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})),b}({onSwipedLeft:()=>k(),onSwipedRight:()=>M(),trackMouse:!1,delta:18,preventScrollOnSwipe:!1});return 0===e.length?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-xl md:text-2xl text-gray-600",children:"Loading quotes..."})}):(0,r.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 md:px-8 lg:px-16",onDoubleClick:O?T:void 0,onKeyDown:O?void 0:C,tabIndex:0,children:(0,r.jsx)(p,{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[(0,r.jsx)("pre",{ref:w,className:"text-lg text-justify md:text-xl lg:text-2xl leading-relaxed whitespace-pre-wrap font-mono text-white",children:n.quote},n.quote),(0,r.jsxs)("p",{...P,className:"text-base text-right md:text-lg lg:text-xl text-shadow-white italic",children:[n.author&&S(n.author.length,1.8),"~",n.author,n.author&&S(n.author.length,2.6)]},n.author),(0,r.jsx)("div",{className:"flex left-1/4 mt-8",children:(0,r.jsx)("button",{onClick:j,className:"copy-button focus:outline-none","aria-label":"复制名言",children:(0,r.jsx)(u.nxz,{size:34,className:"text-gray-400 hover:text-gray-200 transition-colors cursor-pointer"})})}),v&&(0,r.jsx)("div",{className:"fixed top-4 right-4 bg-green-800 text-white px-4 py-2 rounded-lg shadow-lg",children:(0,r.jsx)("span",{className:"text-sm font-medium",children:"已复制!"})})]})})})}},5020:(e,t,n)=>{"use strict";n.d(t,{k5:()=>u});var r=n(3834),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(o),i=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o,a;r=e,o=t,a=n[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return t=>r.createElement(p,s({attr:l({},e.attr)},t),function e(t){return t&&t.map((t,n)=>r.createElement(t.tag,l({key:n},t.attr),e(t.child)))}(e.child))}function p(e){var t=t=>{var n,{attr:o,size:a,title:c}=e,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i),p=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:n,style:l(l({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==a?r.createElement(a.Consumer,null,e=>t(e)):t(o)}},6049:(e,t,n)=>{Promise.resolve().then(n.bind(n,2527))}},e=>{var t=t=>e(e.s=t);e.O(0,[215,74,497,358],()=>t(6049)),_N_E=e.O()}]);